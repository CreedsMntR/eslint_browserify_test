<!DOCTYPE html>
<html>
<head>
    <title>Exemple de Worker</title>
    <script src="./node_modules/eslint-linter-browserify/linter.js"></script>
</head>
<body>
    <button id="envoyerMessage">Envoyer un message au worker</button>

    <script>
        toto = "window.fillTable = function(byBlock) { if (byBlock === 'regexp') { const table = 12; const toto = 1; console.log(table); } else if (byBlock === 'native') {const table = 34; const toto = 2; console.log(table); } else if (byBlock === 'svg') { const table = 'TABLE'; const toto = 3; console.log(table) } else { const toto = 4; const tds = document.querySelectorAll('table.fill-me tbody td'); for (const td of tds) { td.innerHTML = '<span>test</span>';}}};"

rules = {
rules: 
    {
                "accessor-pairs": [1, 1],
                "array-callback-return": [2, 2],
                "arrow-body-style": [1, 1],
                "arrow-parens": [1, "as-needed"],
                "arrow-spacing": [1, 1],
                "block-scoped-var": [2, 2],
                "class-methods-use-this": [2, 2],
                "comma-spacing": [1, { "before": false, "after": true }],
                "computed-property-spacing": [2, 2],
                "consistent-return": [2, 2],
                "consistent-this": [2, "that"],
                "constructor-super": [2, 2],
                "default-case": [2, 2],
                "default-case-last": [2, 2],
                "default-param-last": [2, 2],
                "dot-location": [1, "property"],
                "eqeqeq": [2, 2],
                "function-call-argument-newline": [1, 1],
                "function-paren-newline": ["error", "multiline"],
                "generator-star-spacing": [1, 1],
                "getter-return": [1, 1],
                "grouped-accessor-pairs": [1, 1],
                "implicit-arrow-linebreak": [1, 1],
                "init-declarations": [1, 1],
                "jsx-quotes": [1, 1],
                "key-spacing": [1, {"beforeColon": false, "afterColon": true}],
                "lines-around-comment": [1, 1],
                "lines-between-class-members": [1, 1],
                "logical-assignment-operators": [1, 1],
                "new-cap": [2, 2],
                "new-parens": [1, 1],
                "no-alert": [2, 2],
                "no-array-constructor": [1, 1],
                "no-async-promise-executor": [1, 1],
                "no-await-in-loop": [2, 2],
                "no-bitwise": [2, 2],
                "no-caller": [1, 1],
                "no-case-declarations": [1, 1],
                "no-class-assign": [2, 2],
                "no-compare-neg-zero": [2, 2],
                "no-confusing-arrow": [1, 1],
                "no-const-assign": [2, 2],
                "no-constant-binary-expression": [2, 2],
                "no-constant-condition": [2, 2],
                "no-constructor-return": [2, 2],
                "no-continue": [1, 1],
                "no-control-regex": [1, 1],
                "no-debugger": [2, 2],
                "no-delete-var": [2, 2],
                "no-div-regex": [2, 2],
                "no-dupe-args": [2, 2],
                "no-dupe-class-members": [2, 2],
                "no-dupe-else-if": [2, 2],
                "no-dupe-keys": [2, 2],
                "no-duplicate-case": [2, 2],
                "no-duplicate-imports": [2, 2],
                "no-empty": [2, 2],
                "no-empty-character-class": [2, 2],
                "no-empty-function": [2, 2],
                "no-empty-pattern": [2, 2],
                "no-empty-static-block": [2, 2],
                "no-eq-null": [2, 2],
                "no-eval": [2, 2],
                "no-ex-assign": [2, 2],
                "no-extend-native": [2, 2],
                "no-extra-bind": [1, 1],
                "no-extra-boolean-cast": [1, 1],
                "no-extra-label": [1, 1],
                "no-extra-semi": [1, 1],
                "no-fallthrough": [2, 2],
                "no-floating-decimal": [1, 1],
                "no-func-assign": [2, 2],
                "no-global-assign": [1, 1],
                "no-implicit-globals": [2, 2],
                "no-implied-eval": [2, 2],
                "no-import-assign": [2, 2],
                "no-inner-declarations": [2, 2],
                "no-invalid-regexp": [2, 2],
                "no-irregular-whitespace": [1, 1],
                "no-iterator": [2, 2],
                "no-label-var": [1, 1],
                "no-labels": [1, 1],
                "no-lone-blocks": [2, 2],
                "no-lonely-if": [2, 2],
                "no-loop-func": [2, 2],
                "no-loss-of-precision": [2, 2],
                "no-misleading-character-class": [2, 2],
                "no-multi-assign": [1, 1],
                "no-multi-str": [1, 1],
                "no-nested-ternary": [2, 2],
                "no-new": [2, 2],
                "no-new-func": [2, 2],
                "no-new-native-nonconstructor": [2, 2],
                "no-new-object": [2, 2],
                "no-new-symbol": [2, 2],
                "no-new-wrappers": [2, 2],
                "no-nonoctal-decimal-escape": [2, 2],
                "no-obj-calls": [2, 2],
                "no-octal": [2, 2],
                "no-octal-escape": [2, 2],
                "no-param-reassign": [2, 2],
                "no-promise-executor-return": [2, 2],
                "no-proto": [2, 2],
                "no-prototype-builtins": [2, 2],
                "no-redeclare": [2, 2],
                "no-regex-spaces": [2, 2],
                "no-restricted-exports": [2, 2],
                "no-restricted-globals": [2, 2],
                "no-restricted-imports": [2, 2],
                "no-restricted-properties": [2, 2],
                "no-restricted-syntax": [2, 2],
                "no-return-assign": [2, 2],
                "no-return-await": [2, 2],
                "no-script-url": [2, 2],
                "no-self-assign": [2, 2],
                "no-self-compare": [2, 2],
                "no-sequences": [2, 2],
                "no-setter-return": [2, 2],
                "no-shadow": [2, 2],
                "no-shadow-restricted-names": [2, 2],
                "no-sparse-arrays": [2, 2],
                "no-template-curly-in-string": [2, 2],
                "no-ternary": [1, 1],
                "no-this-before-super": [2, 2],
                "no-throw-literal": [2, 2],
                "no-undef-init": [1, 1],
                "no-undefined": [1, 1],
                "no-unexpected-multiline": [2, 2],
                "no-unmodified-loop-condition": [2, 2],
                "no-unneeded-ternary": [2, 2],
                "no-unreachable": [2, 2],
                "no-unreachable-loop": [2, 2],
                "no-unsafe-finally": [2, 2],
                "no-unsafe-negation": [2, 2],
                "no-unsafe-optional-chaining": [2, 2],
                "no-unused-expressions": [2, 2],
                "no-unused-labels": [2, 2],
                "no-unused-private-class-members": [2, 2],
                "no-unused-vars": [1, 1],
                "no-use-before-define": [2, 2],
                "no-useless-backreference": [1, 1],
                "no-useless-call": [1, 1],
                "no-useless-catch": [1, 1],
                "no-useless-computed-key": [1, 1],
                "no-useless-concat": [1, 1],
                "no-useless-constructor": [1, 1],
                "no-useless-escape": [1, 1],
                "no-useless-rename": [1, 1],
                "no-var": [2, 2],
                "no-void": [2, 2],
                "no-warning-comments": [1, 1],
                "no-whitespace-before-property": [2, 2],
                "no-with": [2, 2],
                "nonblock-statement-body-position": [2, 2],
                "object-shorthand": [2, 2],
                "operator-assignment": [2, 2],
                "operator-linebreak": [1, "before"],
                "prefer-const": [1, 1],
                "prefer-exponentiation-operator": [1, 1],
                "prefer-named-capture-group": [1, 1],
                "prefer-numeric-literals": [1, 1],
                "prefer-object-has-own": [1, 1],
                "prefer-object-spread": [1, 1],
                "prefer-promise-reject-errors": [1, 1],
                "prefer-regex-literals": [1, 1],
                "prefer-rest-params": [1, 1],
                "prefer-spread": [1, 1],
                "quote-props": [1, 1],
                "radix": [2, 2],
                "require-atomic-updates": [2, 2],
                "require-await": [2, 2],
                "require-unicode-regexp": [2, 2],
                "require-yield": [2, 2],
                "rest-spread-spacing": [2, 2],
                "semi-style": [2, 2],
                "space-unary-ops": [2, 2],
                "switch-colon-spacing": [2, 2],
                "symbol-description": [2, 2],
                "template-curly-spacing": [2, 2],
                "template-tag-spacing": [2, 2],
                "unicode-bom": [2, 2],
                "use-isnan": [2, 2],
                "valid-typeof": [2, 2],
                "wrap-iife": [2, 2],
                "wrap-regex": [2, 2],
                "yield-star-spacing": [2, 2]
    }

};

        const linter = new eslint.Linter();
        // Associez un gestionnaire d'événement au bouton pour envoyer un message au worker
        document.getElementById('envoyerMessage').addEventListener('click', () => {
            // Utilisez la méthode postMessage pour envoyer un message au worker
            console.log('Bouton cliqué !');
            const resLint = linter.verify(toto, rules);
            console.log(resLint)
        });

    </script>
</body>
</html>
